<main>
  <!-- Section -->
  <section
    *ngIf="screen == 'SET' && pageReady"
    class="vh-lg-100 mt-5 mt-lg-0 bg-soft d-flex align-items-center"
  >
    <div class="container">
      <div class="row justify-content-center form-bg-image">
        <p class="text-center">
          <a
            [routerLink]="['/signin']"
            class="d-flex align-items-center justify-content-center"
          >
            <svg
              class="icon icon-xs me-2"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z"
                clip-rule="evenodd"
              ></path>
            </svg>
            Back to log in
          </a>
        </p>
        <div class="col-12 d-flex align-items-center justify-content-center">
          <div
            class="bg-white shadow border-0 rounded p-4 p-lg-5 w-100 fmxw-500"
          >
            <h1 class="h3 mb-4">Reset password</h1>
            <form [formGroup]="resetPasswordForm" (ngSubmit)="passwordReset()">
              <!-- Form -->
              <div class="mb-4">
                <label for="email">Email Address</label>
                <div class="input-group">
                  <input
                    type="email"
                    class="form-control"
                    placeholder="Email Address"
                    id="email"
                    formControlName="email"
                  />
                </div>
              </div>
              <!-- End of Form -->
              <!-- Form -->
              <div class="form-group mb-4">
                <label for="password">Password</label>
                <div class="input-group">
                  <input
                    [type]="isVisiblePassword ? 'text' : 'password'"
                    placeholder="Enter New Password"
                    class="form-control"
                    id="password"
                    formControlName="password"
                    [ngClass]="{
                      'is-invalid':
                        (resetPasswordForm.controls.password.touched ||
                          isTrySubmit) &&
                        resetPasswordForm.controls.password.errors
                    }"
                  />
                  <button
                    type="button"
                    class="input-group-text"
                    id="basic-addon3"
                    (click)="visibleSwitch()"
                  >
                    <fa-icon
                      [icon]="isVisiblePassword ? icons.eye : icons.eyeSlash"
                    ></fa-icon>
                  </button>
                  <div
                    *ngIf="
                      (resetPasswordForm.controls.password.touched ||
                        isTrySubmit) &&
                      resetPasswordForm.controls.password.errors
                    "
                    class="invalid-feedback"
                  >
                    <div
                      *ngIf="
                        resetPasswordForm.controls.password.errors['required']
                      "
                    >
                      Password is required
                    </div>
                    <div
                      *ngIf="
                        resetPasswordForm.controls.password.errors['minlength']
                      "
                    >
                      Password cannot be less than 8 characters
                    </div>
                  </div>
                </div>
              </div>
              <!-- End of Form -->
              <!-- End of Form -->
              <div class="d-grid">
                <button type="submit" class="btn btn-gray-800">
                  Reset password
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section
    class="vh-lg-100 mt-5 mt-lg-0 bg-soft d-flex align-items-center"
    *ngIf="screen == 'SUCCESS'"
  >
    <div class="container">
      <div class="row justify-content-center form-bg-image">
        <div class="col-12 d-flex align-items-center justify-content-center">
          <div
            class="signin-inner my-3 my-lg-0 bg-white shadow border-0 rounded p-4 p-lg-5 w-100 fmxw-500"
          >
            <div class="text-center mb-2">
              <img style="width: 100px" src="../../assets/icon/ok.svg" />
            </div>
            <p class="mb-4">
              It's you! Your email address has been successfully verified. Sign
              in to your account.
            </p>
            <div style="text-align: right">
              <a
                [routerLink]="['/signin']"
                class="btn btn-gray-800 d-inline-flex align-items-center justify-content-center mb-4"
              >
                Sign-in
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section
    class="vh-lg-100 mt-5 mt-lg-0 bg-soft d-flex align-items-center"
    *ngIf="screen == 'FAILED'"
  >
    <div class="container">
      <div class="row justify-content-center form-bg-image">
        <div class="col-12 d-flex align-items-center justify-content-center">
          <div
            class="signin-inner my-3 my-lg-0 bg-white shadow border-0 rounded p-4 p-lg-5 w-100 fmxw-500"
          >
            <div class="text-center mb-2">
              <img style="width: 100px" src="../../assets/icon/not-ok.svg" />
            </div>
            <p class="mb-4">
              Your password reset link appears to be invalid or has expired.
              Choose the button below to reset your password again.
            </p>
            <div style="text-align: right">
              <a
                [routerLink]="['/forgot-password']"
                class="btn btn-gray-800 d-inline-flex align-items-center justify-content-center mb-4"
              >
                Reset Password
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
